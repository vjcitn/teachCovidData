<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A2 Acquiring data on COVID-19 using downloads and 'APIs' • teachCovidData</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A2 Acquiring data on COVID-19 using downloads and 'APIs'">
<meta property="og:description" content="teachCovidData">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">teachCovidData</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/teachCovidData.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/A1websites.html">A1 Using 'websites' to present information on COVID-19</a>
    </li>
    <li>
      <a href="../articles/A2downloads.html">A2 Acquiring data on COVID-19 using downloads and 'APIs'</a>
    </li>
    <li>
      <a href="../articles/A3dictionaries.html">A3 Dictionaries and metadata on COVID-19 resources</a>
    </li>
    <li>
      <a href="../articles/B1Inftiming.html">B1 US Infection reports: timing</a>
    </li>
    <li>
      <a href="../articles/B2InfGeo.html">B2 US Infection reports: geography</a>
    </li>
    <li>
      <a href="../articles/B3InfDemog.html">B3 US Infection reports: demographics</a>
    </li>
    <li>
      <a href="../articles/C1Vacctypes.html">C1 US Vaccination: types and series</a>
    </li>
    <li>
      <a href="../articles/C2Vacctiming.html">C2 US Vaccination timing/geography</a>
    </li>
    <li>
      <a href="../articles/C3VaccDemog.html">C3 US Vaccination demographics</a>
    </li>
    <li>
      <a href="../articles/D1Pathobasics.html">D1 Pathogen evolution: basic concepts</a>
    </li>
    <li>
      <a href="../articles/D2GSAIDdata.html">D2 GISAID, Nextstrain and other tracking resources</a>
    </li>
    <li>
      <a href="../articles/D3VOC.html">D3 Defining 'variants of concern'</a>
    </li>
    <li>
      <a href="../articles/E1SeroEpi.html">E3 Vaccine strategies: seroepidemiology</a>
    </li>
    <li>
      <a href="../articles/E2VacTrials.html">E2 Vaccine clinical trials</a>
    </li>
    <li>
      <a href="../articles/E3CorrProt.html">E3 Defining vaccine protection</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/vjcitn/teachCovidData/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="A2downloads_files/htmlwidgets-1.6.0/htmlwidgets.js"></script><link href="A2downloads_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="A2downloads_files/datatables-binding-0.26/datatables.js"></script><link href="A2downloads_files/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="A2downloads_files/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="A2downloads_files/dt-core-1.12.1/js/jquery.dataTables.min.js"></script><link href="A2downloads_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="A2downloads_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A2 Acquiring data on COVID-19 using downloads and ‘APIs’</h1>
                        <h4 data-toc-skip class="author">Vincent J. Carey, stvjc at channing.harvard.edu</h4>
            
            <h4 data-toc-skip class="date">January 03, 2023</h4>
      
      <small class="dont-index">Source: <a href="http://github.com/vjcitn/teachCovidData/blob/HEAD/vignettes/A2downloads.Rmd" class="external-link"><code>vignettes/A2downloads.Rmd</code></a></small>
      <div class="hidden name"><code>A2downloads.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The teachCovidData package includes snapshots of data as a convenience to students and teachers.</p>
<p>Because the pandemic is ongoing, “up-to-date” data are of considerable interest.</p>
<ul>
<li>Up-to-date records are important for identifying acute developments.</li>
<li>Unless strong real-time quality control procedures are in place, up-to-date records may include misleading errors that will take time to correct.</li>
</ul>
</div>
<div class="section level2">
<h2 id="downloads-from-web-sites">Downloads from web sites<a class="anchor" aria-label="anchor" href="#downloads-from-web-sites"></a>
</h2>
</div>
<div class="section level2">
<h2 id="using-apis-formats-and-pagination">Using APIs: formats and ‘pagination’<a class="anchor" aria-label="anchor" href="#using-apis-formats-and-pagination"></a>
</h2>
<p>Application Programming Interfaces (APIs) specify how we can query resources on the web to obtain data. Usually it is sufficient to compose a URL and use the URL with a “client” to trigger delivery of data. We will demonstrate this in this section.</p>
<div class="section level3">
<h3 id="format-options">Format options<a class="anchor" aria-label="anchor" href="#format-options"></a>
</h3>
<p>The CDC provides APIs to COVID-related data using products of a company called “Tyler”. Their documentation of API usage and data formats can be found <a href="https://dev.socrata.com/docs/formats/index.html#," class="external-link">here</a>.</p>
<p>Heres’ a snapshot of the documentation about data formats and API elements:</p>
<div class="figure">
<img src="socformats.png" alt="format snapshot"><p class="caption">format snapshot</p>
</div>
<p>Notice the ‘2.1|2.0’ in the upper right corner. This is indicative of availability of different <em>versions</em> of the API.</p>
<p>It is very important to understand the “road map” of a data provider or data consumption process. Information technology and data production methods are highly dynamic, and producers and consumers need to be able to adapt to changes.</p>
</div>
<div class="section level3">
<h3 id="using-an-api-in-r-pagination">Using an API in R; pagination<a class="anchor" aria-label="anchor" href="#using-an-api-in-r-pagination"></a>
</h3>
<p>The “API” button at the CDC download site for vaccine data by jurisdiction produces a URL:</p>
<div class="figure">
<img src="jsonendpt.png" alt="JSON endpoint"><p class="caption">JSON endpoint</p>
</div>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://arxiv.org/abs/1403.2805" class="external-link">jsonlite</a></span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="st">"https://data.cdc.gov/resource/unsk-b7fc.json"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="co"># fromJSON simplifies when possible</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1000  109</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">datatable</span><span class="op">(</span><span class="va">dat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">40</span><span class="op">]</span><span class="op">)</span> <span class="co"># illustrative subset</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2ddf6f1e93d618e687fd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2ddf6f1e93d618e687fd">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000","2022-12-28T00:00:00.000"],["52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52","52"],["AS","PA","WA","CO","ID","VI","IL","HI","CA","ND","SC","MT","DE","WY","VA2","TX","NY","MA","IH2","WI","DD2","MP","MN","IN","GU","KS","MS","OK","UT","WV","IA","AR","NM","NV","VT","NE","US","ME","SD","OR","OH","VA","PW","MO","AL","TN","PR","GA","MH","LA"],["128480","40583485","24157865","16867685","4537400","168920","36586985","4448760","115820215","1819400","13521655","2606775","3169595","1241825","9641220","77173045","58677865","22540490","3905105","15646525","7617110","144140","17484960","17931670","372310","7960795","6967035","9308930","8077190","5268855","8902275","8034900","5914665","7413730","2444660","5229080","939127005","4718980","2554375","13445145","30173705","25592245","51200","14992925","11897230","16493260","8578870","27477235","153140","9957190"],["600","1564300","776000","500700","160000","3200","1182100","124900","3778100","53600","464500","106400","101900","49300","626900","2662600","1956500","631100","111300","456400","210700","3700","510500","630200","24700","261000","233800","338700","256600","171400","292700","263600","190400","260100","74200","152000","31435100","158400","93500","466200","1009200","802500","3800","439500","402100","529600","216500","862300","12800","329600"],["25500","15149120","8579700","5939340","1746180","46740","12515840","1698420","41357180","640920","5525040","1036600","1191600","525240","4748880","27435840","20416180","8585980","1624180","5755400","2444640","28720","5957320","6113400","103680","2982940","2740060","3841880","2590460","2114120","3346420","3307720","2291900","2499900","908120","1775380","342216120","1783420","955300","4822560","10879440","8954900","31600","5634160","5105060","6136740","3017520","10392800","74500","4030680"],["102380","23816365","14772865","10405645","2616020","118780","22864245","2621840","70555535","1122680","7489415","1457775","1872295","664785","4255740","46984505","36277685","13312110","2162225","9415725","4928970","111520","11004340","11180270","243530","4697855","3986975","5105950","5223230","2975535","5246455","4439380","3426065","4648230","1460440","3296200","564453485","2771560","1502375","8137185","18262065","15809145","15800","8905065","6368370","9812120","5343250","16187435","64740","5588910"],["0","53700","29300","22000","15200","200","24800","3600","129400","2200","42700","6000","3800","2500","9700","90100","27500","11300","7400","19000","32800","200","12800","7800","400","19000","6200","22400","6900","7800","16700","24200","6300","5500","1900","5500","1022300","5600","3200","19200","23000","25700","0","14200","21700","14800","1600","34700","1100","8000"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["271101","317009","317245","292906","253902","158924","288727","314206","293125","238747","262622","243902","325499","214567","0","266152","301630","327029","187492","268728","0","277989","310037","266356","220970","273256","234096","235254","251943","293997","282158","266250","282077","240693","391779","270319","282862","351059","288741","318776","258135","299832","237786","244287","242643","241512","268619","258794","196987","214189"],["298028","335288","337475","310837","271560","169558","306812","334329","311944","256992","278438","258706","344879","228349","0","285773","320179","344912","0","284900","0","299655","330653","284004","243721","291820","249476","251495","273048","310093","300810","283985","299349","256124","410905","289936","300747","368476","310188","336977","274350","318706","251313","259872","258140","256882","278878","275852","221307","229042"],["348024","366226","371607","341724","303422","188896","337587","367329","344229","285510","305922","284087","377419","253061","0","320205","349831","374629","0","312944","0","340837","365941","314313","283522","324705","276313","279949","311589","338216","332636","314201","330903","282772","443717","323300","331238","398248","346074","368585","301716","350244","274604","286359","284155","282633","301193","305707","266939","253795"],["410021","399154","405890","374903","338899","207246","371293","398633","378280","312670","334899","310260","411533","279046","0","357348","380401","406890","0","343439","0","399556","403207","347227","325037","359718","305898","309809","355077","367788","366616","346683","364880","310521","479360","358565","363699","430812","382645","401207","331176","383423","308750","314525","311864","310075","327317","338659","322203","279605"],["3919460","1695670","1996980","2002310","1561010","824885","1790640","1657220","1983860","1518130","1443040","1262750","1677870","1252110","0","2066640","1780200","1927640","0","1538130","0","3839640","1899750","1651560","2318100","1674240","1431510","1465670","2207660","1435610","1609950","1533720","1566360","1494790","1955120","1673530","1713990","1654240","1681940","1755060","1474540","1883300","2570280","1411710","1399940","1442480","1262240","1811340","4103430","1343710"],["114961","26925901","17293339","12765099","2837380","153751","26360133","3451416","86604013","1288199","8522851","1830798","2120412","844861","8503841","51483870","44418984","17765199","2518753","12187825","9291393","115809","12533992","11008571","390704","5282684","4248212","6660547","6037264","3063510","6014512","4803994","4649331","5505852","1718359","3735602","663822575","3458390","1656461","9166670","20717062","19227095","51253","10338822","6929554","11173141","7937369","16829103","94349","6870075"],["114942","26742703","17141828","12656555","2826329","153623","26178646","3431450","86012204","1278943","8491766","1822896","2110424","842401","8503651","51238994","44194029","17615496","2506137","12108903","9269510","115291","12411558","10967298","389970","5246220","4242139","6643769","5991098","3056834","5979537","4787224","4625330","5492605","1700847","3713307","660178473","3435053","1647402","9113515","20592945","19081382","51140","10279234","6913875","11136922","7927326","16764855","91753","6855699"],["102201","25829778","16455287","12173337","2749293","150975","25086298","3295576","82556093","1232669","8279700","1771281","2044965","823034","8503628","49001632","42691876","16873265","2397214","11707564","9083299","106108","11871563","10633732","370923","5056309","4151313","6480211","5699477","2999531","5790182","4653745","4453609","5348598","1628093","3572112","637009322","3324322","1585921","8786525","19972315","18270451","48356","9978768","6779069","10884981","7567206","16282152","81113","6709809"],["85505","24381114","15431853","11407135","2595378","143710","23424797","3085360","76736412","1165823","7852004","1681865","1923853","782496","8500201","45055113","40127601","15796614","2190987","11055668","8571788","93442","11122103","10034069","334651","4728514","3924564","6109190","5197005","2864548","5468314","4374780","4159612","5032192","1528786","3341626","597079823","3151829","1488748","8270172","18920945","17041379","44588","9439214","6448290","10367041","6978349","15294078","69567","6360390"],["9429","8262432","4441433","3107644","899900","45389","6811316","970105","19785203","380012","2817524","634626","691681","281009","4654177","11192907","10789484","4467839","470854","3869489","879561","9772","3567302","3372687","57400","1557954","1311893","1953449","1268865","1070282","1972204","1479744","1336528","1477273","530011","1090991","180162067","1172944","520324","2627915","6541844","4839383","5540","3214380","2208874","3479770","2036377","4319001","4434","2054325"],["580","797890","494053","346033","90258","2352","687819","71573","2312473","40011","233658","62563","63453","29175","257342","1547378","1457372","408811","41983","338367","330113","1399","360964","317257","13814","138940","95456","157385","187875","68486","180743","126098","121005","188945","54299","96205","18952708","145105","42490","279029","636766","508968","2365","253870","179697","270524","157468","347725","3085","201895"],["25530","10321238","6348861","4803936","1069684","47304","9316290","1288353","32411302","456718","3333672","760674","809688","368872","4394339","18674942","16012117","7033287","1146920","4599800","3012671","15927","4424907","3947939","123812","1981025","1711876","2671227","2039118","1320627","2332149","2045743","1879640","1883792","647816","1311521","248567365","1390059","627643","3332460","7780110","6824301","38587","3727725","3001306","4267144","3011233","6490787","65737","2792652"],["87577","15802958","10429663","7593850","1671793","104088","16318065","2090036","51859080","790970","4951796","1004769","1244516","445564","3851728","31207182","26907361","10321586","1328680","7244120","5896249","98473","7739776","6705031","252261","3153704","2436136","3821318","3807977","1671870","3498987","2624084","2631570","3432038","1015196","2317892","395452177","1917695","986132","5531061","12275292","11876934","10090","6353788","3747107","6556105","4768186","9936165","25522","3871143"],["0","1869","2910","2351","420","7","2192","306","8515","172","555","183","137","166","394","5076","3027","1065","45","1184","3494","1","1049","501","22","638","216","686","818","215","574","3551","2799","456","138","354","69062","343","63","1065","1750","1986","0","793","602","1571","67","1682","0","612"],["1274","1946","17852","18929","5225","0","35767","1148","12643","328","3170","2609","2618","1084","38","49292","39107","450","1125","4354","48866","9","7296","37843","795","8377","4528","9931","1476","2312","2059","4518","14317","621","910","9630","781263","5188","133","23055","23144","14906","211","2646","842","77797","415","52744","5","3773"],["242575","210326","227099","221665","158773","144652","208022","243766","219183","169041","165534","171298","217754","145978","0","177556","228333","257747","120930","209325","0","223350","222248","163521","231887","181329","142742","168324","188314","170941","190630","159188","221732","178752","275383","193113","199941","257280","187243","217336","177234","225260","238032","168455","141328","163609","248533","158505","121363","147782"],["266625","220940","239464","233235","169154","154203","219530","257877","231661","180652","174863","180911","229632","154902","0","189739","241147","269550","0","220485","0","239680","234711","173701","255281","192311","151903","179492","202528","179907","202050","169199","234094","189755","285883","205891","211416","268222","200051","228413","187238","237625","251019","178170","150014","173457","257698","168307","132595","157699"],["276840","233089","253122","246620","183849","168829","231470","272112","245365","193437","187325","193035","243504","167719","0","203317","254524","280438","0","234161","0","250906","248458","186392","282466","206237","164642","194880","219865","192545","216352","181983","249163","204005","295506","220854","224679","280549","214865","240874","199709","250041","259351","190590","161912","186528","265675","181152","141388","171024"],["272874","239798","259279","253536","193849","176316","237720","276465","250629","200351","194475","200177","249789","175832","0","208626","260142","285153","0","242670","0","259021","256478","194299","292159","213664","172314","203319","228462","199957","225198","188759","256609","210771","299771","229140","231233","287741","223014","246784","207670","255314","268878","198018","169030","194901","266251","188501","146367","178604"],["287645","345223","367145","368898","309595","221648","333360","361375","338897","317086","300689","307419","366151","283335","0","299738","327336","382085","0","380390","0","260309","387589","310634","357387","327654","269552","307566","346806","291621","356667","282457","353948","297854","423877","349164","328811","411177","342609","343034","319688","356123","278112","302662","259917","304337","299619","284715","118810","277229"],["115406","26989394","17496405","12790723","2869908","152063","26674349","3486162","87110711","1258601","8565092","1841529","2094422","854550","8503841","50343769","44428161","17836753","2518753","12190879","9291393","116031","12549783","11021046","391454","5410485","4311285","6642791","6003972","3072071","6026777","4856266","4827816","5492595","1689315","3754048","663822575","3463706","1684151","9164777","20613004","19449029","51650","10320009","7080240","10999823","7951911","16995913","94406","6850989"],["46141","11538334","6462376","4799319","1138463","74332","9997814","1289826","33317358","526398","3641946","726624","853776","351498","3687529","22049683","18296264","7309226","1155593","4359529","4644228","46454","4426639","4320133","158404","2210954","1829829","2940863","2404143","1206016","2221926","2101193","1967857","2380065","617699","1414102","268363272","1302731","737890","3426671","7659250","7730309","20731","4240562","3178492","4388963","3136294","7235367","43309","2912484"],["95","90.1","84.9","83.3","63.7","69.9","78.9","91.1","84.3","69.1","70.7","68","87.7","60.7","0","76","94.1","95","55.5","74.9","0","89.6","78.5","64.2","94","75.9","61.5","74.3","75","67.3","70.4","69.6","93.8","77.3","95","73.1","80.8","95","83.4","81.2","65.5","90.6","95","69.1","64.8","64.3","95","68.1","55.7","62.7"],["46123","11446764","6386218","4746224","1132587","74240","9902244","1279013","33010465","521593","3624876","722023","848927","350238","3687415","21914471","18181006","7232216","1148133","4319674","4631486","46144","4365137","4295768","157978","2193224","1826212","2931352","2379644","1202339","2204467","2091234","1953861","2373170","609299","1402138","266464233","1291558","732679","3396806","7599520","7657700","20668","4211294","3170079","4369414","3130285","7201113","41334","2905047"],["95","94.6","89.2","87.5","67.8","74.5","83","95","88.9","73.7","74.6","71.7","92.4","64.4","0","81.1","95","95","0","78.7","0","95","82.5","68","95","80.4","65.4","79.2","80.4","70.8","74.5","73.9","95","82","95","77.7","85.3","95","89","85.1","69.1","95","95","73","68.8","68.1","95","72.3","59.7","66.8"],["39545","11004559","6085491","4522980","1094437","72725","9396267","1215234","31393671","500695","3513064","695802","816603","340461","3687398","20745239","17444609","6879741","1091957","4137587","4525920","41516","4121214","4130472","147991","2098886","1778351","2846375","2238947","1172265","2117207","2019803","1861271","2299088","577799","1336234","255132016","1241475","701232","3246151","7310896","7277460","19224","4059558","3095661","4245022","2943589","6955909","34922","2823811"],["95","95","93.6","91.6","73.2","81.3","86.7","95","93.3","78.6","79.5","75.8","95","69.4","0","86.1","95","95","0","82.8","0","95","86.3","72.4","95","85.6","70.5","85.6","86.4","75.2","79.1","79","95","87.7","95","82.6","90","95","95","89","73.1","95","95","77.5","73.9","72.7","95","77.4","60.9","72"],["32760","10331728","5660324","4195508","1022239","68954","8676710","1124601","28873815","471049","3300919","654456","764185","321171","3685458","18819703","16281033","6401058","993142","3863378","4264430","36072","3819884","3859020","131618","1946663","1662540","2662366","2016297","1108946","1976884","1880200","1717759","2141890","539527","1236203","236989551","1170542","653193","3030932","6858868","6733244","17683","3806271","2923557","4000990","2708935","6468394","28969","2646747"],["95","95","95","93.2","76.4","84.6","88.1","95","94.3","81","81.8","77.9","95","72.2","0","87.1","95","95","0","84.8","0","95","88.1","74.7","95","88","73","88.6","88.6","77.4","81.4","81.1","95","89.7","95","84.8","91.8","95","95","90.4","75.3","95","95","79.8","76.6","75.2","95","79.7","61","74.3"],["3307","2892379","1292821","899292","286520","21116","2011715","280141","6021700","127099","990832","204255","223700","96942","1792468","3737439","3612918","1537246","186248","1077899","478859","3283","972333","1043043","18165","510892","455498","711604","386859","352520","562751","521494","462558","515290","150705","317463","58632584","363274","195689","782205","1933327","1554344","1879","1053505","837356","1078937","718410","1487617","1608","686015"],["95","95","95","95","95","95","95","95","95","95","95","95","95","95","0","95","95","95","0","95","0","87.5","95","95","95","95","93.6","95","95","95","95","95","95","95","95","95","95","95","95","95","94.5","95","94.3","95","95","94.4","95","95","43.1","92.6"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>mmwr_week<\/th>\n      <th>location<\/th>\n      <th>distributed<\/th>\n      <th>distributed_janssen<\/th>\n      <th>distributed_moderna<\/th>\n      <th>distributed_pfizer<\/th>\n      <th>distributed_novavax<\/th>\n      <th>distributed_unk_manuf<\/th>\n      <th>dist_per_100k<\/th>\n      <th>distributed_per_100k_5plus<\/th>\n      <th>distributed_per_100k_12plus<\/th>\n      <th>distributed_per_100k_18plus<\/th>\n      <th>distributed_per_100k_65plus<\/th>\n      <th>administered<\/th>\n      <th>administered_5plus<\/th>\n      <th>administered_12plus<\/th>\n      <th>administered_18plus<\/th>\n      <th>administered_65plus<\/th>\n      <th>administered_janssen<\/th>\n      <th>administered_moderna<\/th>\n      <th>administered_pfizer<\/th>\n      <th>administered_novavax<\/th>\n      <th>administered_unk_manuf<\/th>\n      <th>admin_per_100k<\/th>\n      <th>admin_per_100k_5plus<\/th>\n      <th>admin_per_100k_12plus<\/th>\n      <th>admin_per_100k_18plus<\/th>\n      <th>admin_per_100k_65plus<\/th>\n      <th>recip_administered<\/th>\n      <th>administered_dose1_recip<\/th>\n      <th>administered_dose1_pop_pct<\/th>\n      <th>administered_dose1_recip_5plus<\/th>\n      <th>administered_dose1_recip_5pluspop_pct<\/th>\n      <th>administered_dose1_recip_1<\/th>\n      <th>administered_dose1_recip_2<\/th>\n      <th>administered_dose1_recip_3<\/th>\n      <th>administered_dose1_recip_4<\/th>\n      <th>administered_dose1_recip_5<\/th>\n      <th>administered_dose1_recip_6<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><p>We have received a data.frame by retrieving JSON using the CDC data provider URL. The fact that <code>dim(dat)</code> returns exactly 1000 “rows” is a hint that we have received only one “page” of a larger resource. This concept is discussed in the <a href="https://dev.socrata.com/docs/paging.html" class="external-link">API documentation</a>.</p>
<p>We can reformulate the query to retrieve a larger collection of records.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="st">"https://data.cdc.gov/resource/unsk-b7fc.json?$limit=2000"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">dat2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 2000  109</span></span></code></pre>
<p>We have to be careful to avoid requesting unwieldy payloads from data providers. Modifications to URLs that support filtering of resources are defined in API documentation.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Vincent Carey, Sean Davis.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
