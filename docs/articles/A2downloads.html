<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A2 Acquiring data on COVID-19 using downloads and 'APIs' • teachCovidData</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A2 Acquiring data on COVID-19 using downloads and 'APIs'">
<meta property="og:description" content="teachCovidData">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">teachCovidData</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/teachCovidData.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/A1websites.html">A1 Using 'websites' to present information on COVID-19</a>
    </li>
    <li>
      <a href="../articles/A2downloads.html">A2 Acquiring data on COVID-19 using downloads and 'APIs'</a>
    </li>
    <li>
      <a href="../articles/A3dictionaries.html">A3 Dictionaries and metadata on COVID-19 resources</a>
    </li>
    <li>
      <a href="../articles/B1Inftiming.html">B1 US Infection reports: timing</a>
    </li>
    <li>
      <a href="../articles/B2InfGeo.html">B2 US Infection reports: geography</a>
    </li>
    <li>
      <a href="../articles/B3InfDemog.html">B3 US Infection reports: demographics</a>
    </li>
    <li>
      <a href="../articles/C1Vacctypes.html">C1 US Vaccination: types and series</a>
    </li>
    <li>
      <a href="../articles/C2Vacctiming.html">C2 US Vaccination timing/geography</a>
    </li>
    <li>
      <a href="../articles/C3VaccDemog.html">C3 US Vaccination demographics</a>
    </li>
    <li>
      <a href="../articles/D1Pathobasics.html">D1 Pathogen evolution: basic concepts</a>
    </li>
    <li>
      <a href="../articles/D2GSAIDdata.html">D2 GISAID, Nextstrain and other tracking resources</a>
    </li>
    <li>
      <a href="../articles/D3VOC.html">D3 Defining 'variants of concern'</a>
    </li>
    <li>
      <a href="../articles/E1SeroEpi.html">E3 Vaccine strategies: seroepidemiology</a>
    </li>
    <li>
      <a href="../articles/E2VacTrials.html">E2 Vaccine clinical trials</a>
    </li>
    <li>
      <a href="../articles/E3CorrProt.html">E3 Defining vaccine protection</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/vjcitn/teachCovidData/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="A2downloads_files/htmlwidgets-1.6.0/htmlwidgets.js"></script><link href="A2downloads_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="A2downloads_files/datatables-binding-0.26/datatables.js"></script><link href="A2downloads_files/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="A2downloads_files/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="A2downloads_files/dt-core-1.12.1/js/jquery.dataTables.min.js"></script><link href="A2downloads_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="A2downloads_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A2 Acquiring data on COVID-19 using downloads and ‘APIs’</h1>
                        <h4 data-toc-skip class="author">Vincent J. Carey, stvjc at channing.harvard.edu</h4>
            
            <h4 data-toc-skip class="date">January 07, 2023</h4>
      
      <small class="dont-index">Source: <a href="http://github.com/vjcitn/teachCovidData/blob/HEAD/vignettes/A2downloads.Rmd" class="external-link"><code>vignettes/A2downloads.Rmd</code></a></small>
      <div class="hidden name"><code>A2downloads.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The teachCovidData package includes snapshots of data as a convenience to students and teachers.</p>
<p>Because the pandemic is ongoing, “up-to-date” data are of considerable interest.</p>
<ul>
<li>Up-to-date records are important for identifying acute developments.</li>
<li>Unless strong real-time quality control procedures are in place, up-to-date records may include misleading errors that will take time to correct.</li>
</ul>
</div>
<div class="section level2">
<h2 id="downloads-from-web-sites">Downloads from web sites<a class="anchor" aria-label="anchor" href="#downloads-from-web-sites"></a>
</h2>
</div>
<div class="section level2">
<h2 id="using-apis-formats-and-pagination">Using APIs: formats and ‘pagination’<a class="anchor" aria-label="anchor" href="#using-apis-formats-and-pagination"></a>
</h2>
<p>Application Programming Interfaces (APIs) specify how we can query resources on the web to obtain data. Usually it is sufficient to compose a URL and use the URL with a “client” to trigger delivery of data. We will demonstrate this in this section.</p>
<div class="section level3">
<h3 id="format-options">Format options<a class="anchor" aria-label="anchor" href="#format-options"></a>
</h3>
<p>The CDC provides APIs to COVID-related data using products of a company called “Tyler”. Their documentation of API usage and data formats can be found <a href="https://dev.socrata.com/docs/formats/index.html#," class="external-link">here</a>.</p>
<p>Heres’ a snapshot of the documentation about data formats and API elements:</p>
<div class="figure">
<img src="socformats.png" alt="format snapshot"><p class="caption">format snapshot</p>
</div>
<p>Notice the ‘2.1|2.0’ in the upper right corner. This is indicative of availability of different <em>versions</em> of the API.</p>
<p>It is very important to understand the “road map” of a data provider or data consumption process. Information technology and data production methods are highly dynamic, and producers and consumers need to be able to adapt to changes.</p>
</div>
<div class="section level3">
<h3 id="using-an-api-in-r-pagination">Using an API in R; pagination<a class="anchor" aria-label="anchor" href="#using-an-api-in-r-pagination"></a>
</h3>
<p>The “API” button at the CDC download site for vaccine data by jurisdiction produces a URL:</p>
<div class="figure">
<img src="jsonendpt.png" alt="JSON endpoint"><p class="caption">JSON endpoint</p>
</div>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://arxiv.org/abs/1403.2805" class="external-link">jsonlite</a></span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="st">"https://data.cdc.gov/resource/unsk-b7fc.json"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="co"># fromJSON simplifies when possible</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1000  109</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">datatable</span><span class="op">(</span><span class="va">dat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">40</span><span class="op">]</span><span class="op">)</span> <span class="co"># illustrative subset</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8bd9c898c4ee15cb3cda" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8bd9c898c4ee15cb3cda">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000","2023-01-04T00:00:00.000"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["FM","RI","AL","ND","TX","AZ","MO","CA","IA","HI","AK","VI","NM","SC","PA","OR","MA","MN","MP","WI","NE","DD2","UT","AS","FL","DC","KY","AR","NY","MD","OH","NC","MH","NV","MT","KS","MS","MI","PW","DE","CT","US","IL","WA","VA2","TN","IN","WY","GU","NH"],["279520","3386635","11918030","1822740","77424145","19106550","15054025","116284095","8917495","4457400","2070255","168920","5932685","13556565","40725085","13508355","22649530","17568150","144140","15765815","5253500","7617210","8090040","128480","59164075","2627365","11625465","8058700","58841195","21358030","30273155","28966550","153140","7440340","2612755","7985305","6979615","28279210","51200","3180395","11464975","942343115","36703475","24272805","9644280","16543360","18011580","1244315","372310","4875640"],["12800","90600","402100","53600","2662600","618800","439500","3778500","292700","124900","86200","3200","190400","464500","1564300","466300","631300","510500","3700","456500","152200","210700","256700","600","2461900","72700","392900","263800","1956500","616000","1009200","954100","12800","260200","106500","261100","234000","964500","3800","101900","353000","31439600","1182100","776000","626900","529700","630400","49300","24700","188700"],["126140","1309600","5110060","641920","27502740","7106920","5643960","41477580","3350620","1700120","778620","46740","2297900","5536740","15171020","4834260","8613480","5969820","28720","5791100","1781780","2444640","2592260","25500","21657020","907980","4647800","3318320","20437880","7176060","10904640","10706080","74500","2506200","1037900","2986440","2743360","10985120","31600","1193800","4432380","342955820","12532940","8624200","4748880","6145340","6127900","526140","103680","1567440"],["140580","1982535","6384170","1125020","47168105","11363630","8956265","70897715","5257475","2628780","1200635","118780","3437985","7512625","23936065","8188395","13393450","11075030","111520","9499215","3313920","4929070","5234180","102380","34994055","1643985","6574465","4452380","36419215","13537370","18336015","17270670","64740","4668440","1462355","4718765","3996055","16305590","15800","1880895","6671395","566920395","22963335","14843205","4258800","9853420","11245480","666375","243530","3115400"],["0","3900","21700","2200","90700","17200","14300","130300","16700","3600","4800","200","6400","42700","53700","19400","11300","12800","200","19000","5600","32800","6900","0","51100","2700","10300","24200","27600","28600","23300","35700","1100","5500","6000","19000","6200","24000","0","3800","8200","1027300","25100","29400","9700","14900","7800","2500","400","4100"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["273182","319687","243067","239185","267018","262499","245282","294299","282640","314817","282998","158924","282936","263300","318115","320275","328611","311512","277989","270777","271582","0","252344","271101","275467","372280","260213","267039","302470","353278","258986","276185","196987","241557","244462","274097","234518","283164","237786","326608","321572","283831","289646","318754","0","242245","267543","214997","220970","358579"],["301139","337032","258591","257463","286703","278971","260931","313194","301324","334978","304241","169558","300261","279157","336458","338562","346581","332226","299655","287072","291290","0","273483","298028","290904","397856","277123","284826","321071","375774","275254","293234","221307","257044","259299","292718","249926","300191","251313","346054","338842","301777","307789","339081","0","257662","285270","228807","243721","376181"],["353188","365139","284652","286034","321247","307869","287526","345608","333205","368043","340012","188896","331911","306711","367504","370318","376442","367682","340837","315329","324810","0","312085","348024","316453","430889","305438","315132","350804","413684","302710","322369","266939","283787","284739","325705","276812","329019","274604","378705","369130","332373","338662","373375","0","283492","315714","253569","283522","406788"],["418920","396160","312409","313244","358510","338860","315807","379795","367243","399407","375344","207246","365991","335764","400547","403093","408858","405125","399556","346057","360240","0","355641","410021","343024","454891","335530","347710","381460","453366","332267","353796","322203","311635","310972","360826","306451","360570","308750","412935","404003","364944","372475","407821","0","311017","348775","279606","325037","441451"],["5808810","1810590","1402390","1520920","2073360","1460040","1417470","1991810","1612700","1660430","2260400","824885","1571130","1446770","1701590","1763310","1936960","1908790","3839640","1549860","1681350","0","2211170","3919460","1315540","3008100","1548900","1538270","1785150","2226200","1479400","1654200","4103430","1500150","1265640","1679400","1434090","1601860","2570280","1683590","1819130","1719850","1796340","2006480","0","1446870","1658920","1254620","2318100","1920570"],["196826","2615951","6937933","1290428","51591479","14325594","10357903","86808719","6030961","3458176","1306133","154140","4659039","8546321","26986055","9188135","17808499","12563962","115967","12215309","3750914","9304379","6045746","114961","41496329","1936340","7416401","4814103","44501510","14449342","20756232","19242429","94349","5515294","1844008","5288254","4255896","18426075","51317","2139041","8902878","665076272","26391286","17336710","8518879","11185013","11021734","846149","391641","2906241"],["191576","2600867","6921833","1281038","51343589","14260544","10297377","86208312","5995196","3437973","1297564","154011","4634708","8514544","26801071","9133955","17656946","12439502","115433","12135158","3727995","9282193","5999122","114942","41417200","1909410","7387478","4797083","44273719","14328814","20630287","19135448","91753","5501830","1835722","5251335","4249739","18372015","51203","2128540","8850043","661383241","26207486","17182095","8518689","11148478","10979887","843666","390890","2892434"],["162537","2513358","6786753","1234597","49099204","13731098","9995798","82739633","5804924","3301681","1244860","151360","4462451","8301473","25885009","8805462","16911686","11897082","106228","11731913","3585790","9095542","5706794","102201","40528066","1837661","7188289","4663202","42766917","13709589","20006936","18498475","81113","5357402","1783526","5061038","4158747","17803927","48413","2062222","8533101","638140140","25113761","16492411","8518666","10896015","10645583","824253","371775","2813656"],["137959","2364166","6455650","1167612","45145142","12803002","9455177","76906120","5482047","3091066","1159854","144087","4167890","7872672","24433051","8287785","15832106","11145445","93549","11078203","3354321","8583340","5203552","85505","38491582","1753965","6807765","4383797","40197753","12740458","18953452","17411949","69567","5040478","1693602","4732938","3931735","16857590","44641","1940284","7967919","598135169","23450988","15466341","8515238","10377531","10045173","783668","335440","2655779"],["11303","718998","2212416","380710","11219857","4360581","3220758","19830535","1977272","972161","281940","45590","1338899","2826564","8283701","2633338","4478032","3574546","9788","3877248","1095631","880326","1270683","9429","14271632","363195","2236176","1483620","10812565","3557120","6554120","5550587","4434","1480026","639836","1559837","1315036","5736559","5548","698717","2441183","180515580","6820451","4450786","4663205","3483979","3377101","281555","57597","888612"],["13840","66967","179706","40012","1547635","384446","253902","2312628","180762","71573","46279","2352","121032","233695","798087","279060","408826","361001","1399","338401","96222","330171","187903","580","1503100","40026","241228","126138","1457598","370364","636899","523250","3085","188948","62582","138964","95472","472649","2365","63535","252515","18954913","687431","494127","257342","270540","317276","29177","13823","89651"],["105374","1012574","3004488","457285","18709145","5525142","3734210","32484540","2337275","1291420","500345","47488","1883200","3343201","10342174","3338362","7050904","4433367","15958","4608879","1315644","3014445","2040908","25530","15428250","695843","3020615","2050484","16039490","5203357","7792940","7171466","65737","1886719","765546","1983041","1715038","7236688","38588","815741","3403555","248998772","9326685","6362157","4402803","4271441","3951852","369368","124120","1060906"],["77451","1533350","3752273","792629","31279906","8364135","6366320","51990164","3510226","2093713","757818","104293","2637565","4965675","15841929","5546482","10347215","7761190","98600","7262431","2328965","5907275","3814610","87577","24389986","1195503","4151389","2629383","26961733","8849030","12301410","11544866","25522","3438543","1013065","3157111","2440628","10711381","10153","1256984","5244862","396267682","16338949","10459457","3858275","6563632","6714144","446350","252847","1755093"],["0","407","624","174","5187","1723","824","8715","592","313","250","7","2803","575","1917","1084","1104","1060","1","1218","362","3515","824","0","3310","185","402","3570","3093","2805","1783","1513","0","462","200","647","227","1399","0","163","643","70373","2227","2976","421","1580","510","170","22","252"],["161","2653","842","328","49606","50148","2647","12672","2106","1157","1441","0","14439","3175","1948","23147","450","7344","9","4380","9721","48973","1501","1274","171683","4783","2767","4528","39596","23786","23200","1334","5","622","2615","8491","4531","3958","211","2618","1303","784532","35994","17993","38","77820","37952","1084","829","339"],["192363","246937","141498","169334","177927","196815","168766","219701","191151","244244","178544","145018","222195","165989","210796","217845","258375","222780","223654","209797","193905","0","188578","242575","193206","274367","166001","159523","228758","239003","177569","183469","121363","179059","172534","181520","143000","184503","238329","219667","249710","200319","208268","227668","0","163783","163716","146201","232443","213740"],["206393","258834","150186","180948","190126","208216","178484","232189","202579","258367","190688","154592","234569","175332","221422","228925","270185","235240","239975","220963","206706","0","202799","266625","203644","289138","176099","169548","241582","252102","187578","193712","132595","190073","182184","192499","152175","195023","251328","231603","261559","211802","219771","240026","0","173637","173901","155135","255883","223166"],["205374","270985","162096","193739","203722","221253","190916","245910","216903","272616","204452","169259","249657","187817","233587","241393","281077","248993","251189","234648","221700","0","220148","276840","216774","301377","188859","182352","254971","265541","200055","205870","141388","204340","194369","206430","164936","207143","259657","245559","274734","225078","231724","253693","0","186717","186600","167968","283115","234751"],["206761","276554","169223","200658","209043","227065","198353","251183","225763","276976","210285","176779","257120","194987","240308","247310","285793","257016","259318","243165","230010","0","228750","272874","223168","303674","196484","189148","260597","270441","208026","212668","146367","211118","201574","213864","172629","214940","269197","251922","280773","231642","237986","259858","0","195099","194514","176095","292848","240460"],["234892","384396","260334","317669","300460","333216","303262","339674","357583","362141","307835","222629","354576","301654","346111","343742","382956","388376","260735","381153","350649","0","347303","287645","317335","415826","297933","283197","328037","370767","320288","316978","118810","298409","309943","328050","270198","324944","278514","369875","387339","329456","333807","367918","0","304705","311041","283886","358614","350035"],["198252","2820069","7088553","1260779","50446083","13962588","10339019","87314959","6043210","3492926","1322016","152451","4837581","8587766","27049872","9186022","17879716","12579626","116190","12218394","3769015","9304379","6012390","115406","41348367","1838493","7498139","4866348","44510472","14586306","20651744","19175730","94407","5501726","1854470","5416281","4318818","18809038","51714","2111718","8952720","665076272","26706205","17543045","8518879","11011688","11034433","855908","392377","2918132"],["84441","1118515","3179484","526674","22070043","5615822","4242950","33340800","2223325","1290510","532458","74620","1969913","3644921","11548979","3429268","7317814","4429193","46482","4362035","1415475","4646038","2405032","46141","17633718","798300","3067616","2102856","18309832","5524002","7662742","9617724","43310","2381974","727800","2211903","1830632","6918907","20732","855850","3640466","268546218","9994338","6467245","3690673","4390419","4321745","351713","158523","1189842"],["82.5","95","64.8","69.1","76.1","77.2","69.1","84.4","70.5","91.1","72.8","70.2","93.9","70.8","90.2","81.3","95","78.5","89.6","74.9","73.2","0","75","95","82.1","95","68.7","69.7","94.1","91.4","65.6","91.7","55.7","77.3","68.1","75.9","61.5","69.3","95","87.9","95","80.9","78.9","84.9","0","64.3","64.2","60.8","94.1","87.5"],["80673","1110718","3171001","521828","21933240","5580335","4213404","33031097","2205640","1279617","527735","74527","1955773","3627569","11456709","3398867","7240193","4367114","46163","4321730","1403289","4633171","2380364","46123","17588349","783731","3052879","2092797","18193499","5465534","7602440","9561819","41335","2375010","723003","2193988","1826973","6891617","20669","850815","3613357","266629659","9898067","6390290","3690559","4370753","4297108","350447","158086","1182224"],["86.9","95","68.8","73.7","81.2","81.5","73","89","74.5","95","77.6","74.8","95","74.7","94.7","85.2","95","82.6","95","78.7","77.8","0","80.5","95","86.5","95","72.8","74","95","95","69.1","95","59.7","82.1","71.8","80.4","65.4","73.2","95","92.6","95","85.4","83","89.3","0","68.1","68.1","64.4","95","91.2"],["66776","1058902","3096517","500900","20762298","5318671","4061482","31412574","2118256","1215787","502736","73008","1863046","3515517","11013919","3247999","6887133","4122884","41529","4139428","1337260","4527471","2239593","39545","17127515","743984","2952456","2021265","17456171","5179678","7313390","9221382","34923","2300821","696695","2099552","1779072","6628301","19224","818331","3456969","255284027","9392617","6089160","3690542","4246245","4131648","340655","148083","1140727"],["84.4","95","74","78.6","86.1","85.7","77.6","93.4","79.1","95","82.6","81.6","95","79.5","95","89","95","86.3","95","82.8","82.7","0","86.4","95","91.6","95","77.6","79","95","95","73.1","95","60.9","87.8","75.9","85.6","70.6","77.1","95","95","95","90","86.7","93.7","0","72.8","72.4","69.4","95","95"],["55639","987431","2924356","471241","18835386","4891551","3808063","28891523","1977857","1125128","465247","69232","1719422","3303205","10340543","3032651","6408032","3821431","36084","3865091","1237134","4265766","2016870","32760","16127615","703775","2772228","1881597","16291837","4767262","6861189","8651140","28970","2143502","655291","1947258","1663218","6222644","17683","765826","3201557","237131660","8673719","5663772","3688601","4002147","3860100","321353","131705","1072333"],["83.4","95","76.7","81","87.2","86.8","79.9","94.4","81.5","95","84.4","84.9","95","81.8","95","90.5","95","88.1","95","84.8","84.8","0","88.7","95","93.5","95","80","81.2","95","95","75.3","95","61","89.8","78","88","73","79.3","95","95","95","91.8","88","95","0","75.2","74.7","72.2","95","95"],["4219","234259","837550","127143","3739826","1335180","1053915","6024907","562952","280257","90507","21260","462925","991425","2895286","782522","1538737","972581","3287","1078272","317623","478958","386959","3307","4920700","112919","748726","521913","3615333","1052519","1933826","2461715","1609","515611","204477","511048","455628","1751731","1879","224151","816752","58664118","2010893","1293351","1793867","1079187","1043311","97001","18183","302282"],["87.7","95","95","95","95","95","95","95","95","95","95","95","95","95","95","95","95","95","87.6","95","95","0","95","95","95","95","95","95","95","95","94.5","95","43.1","95","95","95","93.6","95","94.3","95","95","95","95","95","0","94.4","95","95","95","95"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>mmwr_week<\/th>\n      <th>location<\/th>\n      <th>distributed<\/th>\n      <th>distributed_janssen<\/th>\n      <th>distributed_moderna<\/th>\n      <th>distributed_pfizer<\/th>\n      <th>distributed_novavax<\/th>\n      <th>distributed_unk_manuf<\/th>\n      <th>dist_per_100k<\/th>\n      <th>distributed_per_100k_5plus<\/th>\n      <th>distributed_per_100k_12plus<\/th>\n      <th>distributed_per_100k_18plus<\/th>\n      <th>distributed_per_100k_65plus<\/th>\n      <th>administered<\/th>\n      <th>administered_5plus<\/th>\n      <th>administered_12plus<\/th>\n      <th>administered_18plus<\/th>\n      <th>administered_65plus<\/th>\n      <th>administered_janssen<\/th>\n      <th>administered_moderna<\/th>\n      <th>administered_pfizer<\/th>\n      <th>administered_novavax<\/th>\n      <th>administered_unk_manuf<\/th>\n      <th>admin_per_100k<\/th>\n      <th>admin_per_100k_5plus<\/th>\n      <th>admin_per_100k_12plus<\/th>\n      <th>admin_per_100k_18plus<\/th>\n      <th>admin_per_100k_65plus<\/th>\n      <th>recip_administered<\/th>\n      <th>administered_dose1_recip<\/th>\n      <th>administered_dose1_pop_pct<\/th>\n      <th>administered_dose1_recip_5plus<\/th>\n      <th>administered_dose1_recip_5pluspop_pct<\/th>\n      <th>administered_dose1_recip_1<\/th>\n      <th>administered_dose1_recip_2<\/th>\n      <th>administered_dose1_recip_3<\/th>\n      <th>administered_dose1_recip_4<\/th>\n      <th>administered_dose1_recip_5<\/th>\n      <th>administered_dose1_recip_6<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><p>We have received a data.frame by retrieving JSON using the CDC data provider URL. The fact that <code>dim(dat)</code> returns exactly 1000 “rows” is a hint that we have received only one “page” of a larger resource. This concept is discussed in the <a href="https://dev.socrata.com/docs/paging.html" class="external-link">API documentation</a>.</p>
<p>We can reformulate the query to retrieve a larger collection of records.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="st">"https://data.cdc.gov/resource/unsk-b7fc.json?$limit=2000"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">dat2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 2000  109</span></span></code></pre>
<p>We have to be careful to avoid requesting unwieldy payloads from data providers. Modifications to URLs that support filtering of resources are defined in API documentation.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-github-to-distribute-data">Using GitHub to distribute data<a class="anchor" aria-label="anchor" href="#using-github-to-distribute-data"></a>
</h2>
<p>New York City’s Department of Health distributes data in a GitHub repository. The instructions suggest cloning the repository to work with the data.</p>
<p>For example information on variant prevalence is described <a href="https://github.com/nychealth/coronavirus-data/tree/master/variants#variants" class="external-link">here</a> and instructions for use start in the README.md of the repository.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Vincent Carey, Sean Davis.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
